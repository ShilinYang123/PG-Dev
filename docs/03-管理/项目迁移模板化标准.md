# 3AI项目模板化标准

## 概述

本文档定义了以`{{paths.root}}/.`为基础模板创建新项目的标准化流程，确保项目创建的一致性、可靠性和高效性。

## 模板化原则

### 核心原则

1. **标准化**：所有新项目都遵循统一的目录结构和配置规范
2. **自动化**：通过工具脚本实现一键式项目初始化
3. **可追溯**：完整记录项目创建过程和配置变更
4. **安全性**：确保模板数据清理和敏感信息保护
5. **可维护**：支持模板的持续更新和优化

### 适用范围

- 基于3AI架构的新项目开发
- 需要快速启动的原型项目
- 标准化的企业级项目
- 教学和培训项目

## 目录结构模板

### 标准目录结构

```
项目根目录/
├── bak/                           # 备份目录
│   ├── 专项备份/                   # 专项备份存储
│   ├── 日常备份/                   # 日常备份存储
│   ├── 待清理资料/                 # 临时资料存储
│   ├── 常规备份/                   # 常规备份
│   └── 迁移备份/                   # 项目迁移备份
├── docs/                          # 文档目录
│   ├── 01-设计/                   # 设计文档
│   │   ├── 开发任务书.md           # 项目任务书模板
│   │   ├── 技术路线.md             # 技术路线模板
│   │   ├── 项目架构设计.md         # 架构设计模板
│   │   └── 数据库设计.md           # 数据库设计模板
│   ├── 02-开发/                   # 开发文档
│   │   ├── API文档.md              # API文档模板
│   │   ├── 开发日志.md             # 开发日志模板
│   │   └── 测试计划.md             # 测试计划模板
│   └── 03-管理/                   # 管理文档
│       ├── project_config.yaml    # 项目配置模板
│       ├── .env.example           # 环境变量模板
│       └── 部署指南.md             # 部署指南模板
├── logs/                          # 日志目录（空目录）
├── project/                       # 项目代码目录
│   ├── src/                       # 源代码目录
│   ├── tests/                     # 测试代码目录
│   ├── config/                    # 配置文件目录
│   └── requirements.txt           # 依赖清单模板
└── tools/                         # 工具目录
    ├── 项目迁移工具/               # 项目迁移工具
    │   ├── startnew.py            # 迁移脚本
    │   └── README.md              # 工具说明
    ├── check_structure.py         # 结构检查工具
    ├── update_structure.py        # 结构更新工具
    ├── finish.py                  # 项目收尾工具
    └── 其他工具脚本...
```

### 目录分类说明

#### 保留目录（完整复制）
- `docs/` - 文档模板目录
- `tools/` - 工具脚本目录
- `project/` - 项目代码框架
- `bak/` - 备份目录结构（清空内容）

#### 重置目录（创建空目录）
- `logs/` - 日志目录

## 配置文件模板

### 主配置文件模板

#### project_config.yaml

```yaml
# 项目基本信息
project_name: "3AI"           # 项目名称占位符
project_root: "{{paths.root}}"           # 项目根路径占位符
project_version: "1.0.0"                   # 初始版本
project_description: "基于3AI模板的新项目"  # 项目描述

# 时间信息
created_at: "2025-06-19T17:15:34.965714"               # 创建时间占位符
last_updated: "{{LAST_UPDATED}}"           # 更新时间占位符

# 开发配置
development:
  debug: true
  log_level: "INFO"
  auto_reload: true

# 生产配置
production:
  debug: false
  log_level: "WARNING"
  auto_reload: false

# 数据库配置
database:
  type: "sqlite"                          # 默认数据库类型
  name: "3AI.db"             # 数据库名称
  host: "localhost"
  port: 5432
  username: ""
  password: ""

# 工具配置
tools:
  structure_check:
    enabled: true
    auto_fix: false
  performance_monitor:
    enabled: true
    interval: 60
```

#### .env.example

```bash
# 项目环境变量模板
# 复制此文件为 .env 并填入实际值

# 项目基本信息
PROJECT_NAME=3AI
PROJECT_ENV=development

# 数据库配置
DB_HOST=localhost
DB_PORT=5432
DB_NAME=3AI_db
DB_USER=
DB_PASSWORD=

# API配置
API_HOST=localhost
API_PORT=8000
API_SECRET_KEY=

# 日志配置
LOG_LEVEL=INFO
LOG_FILE=logs/app.log

# 第三方服务
# 根据项目需要添加相应的API密钥和配置
```

## 文档模板规范

### 设计文档模板

#### 开发任务书模板

```markdown
# 3AI项目开发任务书

## 项目基本信息

- **项目名称**：3AI
- **项目类型**：[Web应用/桌面应用/API服务/其他]
- **开发周期**：[预计开发时间]
- **项目负责人**：[负责人姓名]
- **创建时间**：2025-06-19T17:15:34.965714

## 项目背景

[描述项目的背景、目标和意义]

## 功能需求

### 核心功能
1. [功能1描述]
2. [功能2描述]
3. [功能3描述]

### 扩展功能
1. [扩展功能1]
2. [扩展功能2]

## 技术要求

### 技术栈
- **后端**：[技术选型]
- **前端**：[技术选型]
- **数据库**：[数据库选型]
- **部署**：[部署方案]

### 性能要求
- [性能指标1]
- [性能指标2]

## 项目里程碑

| 阶段 | 时间节点 | 主要交付物 | 完成标准 |
|------|----------|------------|----------|
| 需求分析 | [日期] | 需求文档 | [标准] |
| 设计阶段 | [日期] | 设计文档 | [标准] |
| 开发阶段 | [日期] | 功能实现 | [标准] |
| 测试阶段 | [日期] | 测试报告 | [标准] |
| 部署上线 | [日期] | 生产环境 | [标准] |

## 风险评估

| 风险类型 | 风险描述 | 影响程度 | 应对措施 |
|----------|----------|----------|----------|
| 技术风险 | [描述] | [高/中/低] | [措施] |
| 进度风险 | [描述] | [高/中/低] | [措施] |
| 资源风险 | [描述] | [高/中/低] | [措施] |

## 验收标准

1. [验收标准1]
2. [验收标准2]
3. [验收标准3]

---

*本文档基于3AI项目模板生成，请根据实际项目需求进行调整。*
```

#### 技术路线模板

```markdown
# 3AI技术路线

## 技术架构概览

[项目整体技术架构图和说明]

## 技术选型

### 后端技术栈
- **编程语言**：[选择及理由]
- **框架**：[选择及理由]
- **数据库**：[选择及理由]
- **缓存**：[选择及理由]

### 前端技术栈
- **框架**：[选择及理由]
- **UI库**：[选择及理由]
- **构建工具**：[选择及理由]

### 开发工具
- **IDE**：[推荐开发环境]
- **版本控制**：[Git策略]
- **项目管理**：[工具选择]

## 开发规范

### 代码规范
- [编码标准]
- [命名规范]
- [注释规范]

### 版本管理
- [分支策略]
- [提交规范]
- [发布流程]

## 部署方案

### 开发环境
- [环境配置]
- [部署步骤]

### 生产环境
- [环境要求]
- [部署策略]
- [监控方案]

---

*本文档基于3AI项目模板生成，请根据实际项目需求进行调整。*
```

## 项目迁移流程

### 标准操作流程

#### 第一步：模板复制

```bash
# 1. 复制整个3AI项目目录
xcopy "{{paths.root}}/." "S:\新项目目录" /E /I /H

# 2. 重命名项目根目录
ren "{{paths.root}}" "新项目名称"
```

#### 第二步：自动化初始化

```bash
# 进入新项目根目录
cd "S:\新项目目录\新项目名称"

# 运行项目迁移工具
python tools\项目迁移工具\startnew.py --project-name "新项目名称"
```

#### 第三步：手动配置

1. **检查配置文件**
   - 验证 `docs/03-管理/project_config.yaml`
   - 配置 `docs/03-管理/.env`

2. **完善文档**
   - 更新 `docs/01-设计/开发任务书.md`
   - 制定 `docs/01-设计/技术路线.md`

3. **初始化代码**
   - 配置 `project/requirements.txt`
   - 初始化 `project/src/` 目录

### 质量检查清单

#### 自动检查项
- [ ] 项目结构完整性
- [ ] 配置文件格式正确性
- [ ] 文档模板占位符替换
- [ ] 运行时数据清理
- [ ] 缓存文件清理

#### 手动检查项
- [ ] 项目名称一致性
- [ ] 文档内容完整性
- [ ] 环境变量配置
- [ ] 依赖包清单
- [ ] 工具脚本可用性

## 模板维护规范

### 模板更新流程

1. **需求评估**
   - 收集模板改进需求
   - 评估变更影响范围

2. **变更实施**
   - 在3AI模板中实施变更
   - 更新相关文档和工具

3. **测试验证**
   - 执行完整的迁移测试
   - 验证新项目创建流程

4. **版本发布**
   - 记录变更日志
   - 通知相关团队

### 版本管理

- **主版本**：重大架构变更
- **次版本**：功能增加或重要改进
- **修订版本**：错误修复和小幅优化

### 兼容性保证

- 向后兼容性考虑
- 迁移路径提供
- 废弃功能通知

## 最佳实践

### 项目命名规范

- 使用有意义的项目名称
- 避免特殊字符和空格
- 遵循组织命名约定

### 目录组织建议

- 保持目录结构的一致性
- 合理使用备份目录
- 及时清理临时文件

### 文档维护

- 及时更新项目文档
- 保持文档与代码同步
- 定期审查文档质量

## 常见问题解决

### 迁移失败处理

1. **检查权限**：确保对目标目录有写入权限
2. **验证路径**：确认源模板路径正确
3. **清理环境**：删除不完整的迁移结果
4. **重新执行**：按标准流程重新迁移

### 配置问题排查

1. **YAML格式**：检查配置文件语法
2. **路径问题**：验证文件路径正确性
3. **权限问题**：确认文件访问权限
4. **依赖缺失**：安装必要的Python包

## 附录

### 相关文档

- [项目迁移工具使用指南](../tools/项目迁移工具/README.md)
- [项目结构检查工具说明](../tools/项目结构检查工具体系说明.md)
- [开发规范与流程](./规范与流程.md)

### 工具清单

- `startnew.py` - 项目迁移主工具
- `check_structure.py` - 结构检查工具
- `update_structure.py` - 结构更新工具
- `finish.py` - 项目收尾工具

---

**文档版本**：1.0  
**最后更新**：2025-01-20  
**维护人员**：雨俊  

*本标准是3AI项目管理体系的重要组成部分，旨在确保项目创建的标准化和高效性。*